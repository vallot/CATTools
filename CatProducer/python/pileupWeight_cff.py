import FWCore.ParameterSet.Config as cms

pileupWeight = cms.EDProducer("PileupWeightProducer",
    isStandardWeight = cms.bool(True),
    pileupMC = cms.vdouble(),
    pileupRD = cms.vdouble(),
    pileupUp = cms.vdouble(),
    pileupDn = cms.vdouble(),
    vertex = cms.InputTag("offlineSlimmedPrimaryVertices"),
    simpleWeights = cms.vdouble(),
)

pileupWeightMap = {
"Startup2015_25ns":cms.vdouble(
    4.8551E-07 , 1.74806E-06, 3.30868E-06, 1.62972E-05, 4.95667E-05,
    0.000606966, 0.003307249, 0.010340741, 0.022852296, 0.041948781,
    0.058609363, 0.067475755, 0.072817826, 0.075931405, 0.076782504,
    0.076202319, 0.074502547, 0.072355135, 0.069642102, 0.064920999,
    0.05725576 , 0.047289348, 0.036528446, 0.026376131, 0.017806872,

    0.011249422, 0.006643385, 0.003662904, 0.001899681, 0.00095614,
    0.00050028 , 0.000297353, 0.000208717, 0.000165856, 0.000139974,
    0.000120481, 0.000103826, 8.88868E-05, 7.53323E-05, 6.30863E-05,
    5.21356E-05, 4.24754E-05, 3.40876E-05, 2.69282E-05, 2.09267E-05,
    1.5989E-05 , 4.8551E-06 , 2.42755E-06, 4.8551E-07, 2.42755E-07,

    1.21378E-07, 4.8551E-08,
),
"Summer12_S10":cms.vdouble(
    2.560E-06,    5.239E-06,    1.420E-05,    5.005E-05,    1.001E-04,
    2.705E-04,    1.999E-03,    6.097E-03,    1.046E-02,    1.383E-02,
    1.685E-02,    2.055E-02,    2.572E-02,    3.262E-02,    4.121E-02,
    4.977E-02,    5.539E-02,    5.725E-02,    5.607E-02,    5.312E-02,
    5.008E-02,    4.763E-02,    4.558E-02,    4.363E-02,    4.159E-02,
    3.933E-02,    3.681E-02,    3.406E-02,    3.116E-02,    2.818E-02,
    2.519E-02,    2.226E-02,    1.946E-02,    1.682E-02,    1.437E-02,
    1.215E-02,    1.016E-02,    8.400E-03,    6.873E-03,    5.564E-03,
    4.457E-03,    3.533E-03,    2.772E-03,    2.154E-03,    1.656E-03,
    1.261E-03,    9.513E-04,    7.107E-04,    5.259E-04,    3.856E-04,
    2.801E-04,    2.017E-04,    1.439E-04,    1.017E-04,    7.126E-05,
    4.948E-05,    3.405E-05,    2.322E-05,    1.570E-05,    5.005E-06
),
"Summer12_S7":cms.vdouble(
    2.344E-05,    2.344E-05,    2.344E-05,    2.344E-05,    4.687E-04,
    4.687E-04,    7.032E-04,    9.414E-04,    1.234E-03,    1.603E-03,
    2.464E-03,    3.250E-03,    5.021E-03,    6.644E-03,    8.502E-03,
    1.121E-02,    1.518E-02,    2.033E-02,    2.608E-02,    3.171E-02,
    3.667E-02,    4.060E-02,    4.338E-02,    4.520E-02,    4.641E-02,
    4.735E-02,    4.816E-02,    4.881E-02,    4.917E-02,    4.909E-02,
    4.842E-02,    4.707E-02,    4.501E-02,    4.228E-02,    3.896E-02,
    3.521E-02,    3.118E-02,    2.702E-02,    2.287E-02,    1.885E-02,
    1.508E-02,    1.166E-02,    8.673E-03,    6.190E-03,    4.222E-03,
    2.746E-03,    1.698E-03,    9.971E-04,    5.549E-04,    2.924E-04,
    1.457E-04,    6.864E-05,    3.054E-05,    1.282E-05,    5.081E-06,
    1.898E-06,    6.688E-07,    2.221E-07,    6.947E-08,    2.047E-08
),
"Fall11_S6":cms.vdouble(
    0.003388501,    0.010357558,    0.024724258,    0.042348605,    0.058279812,
    0.068851751,    0.072914824,    0.071579609,    0.066811668,    0.060672356,
    0.054528356,    0.04919354 ,    0.044886042,    0.041341896,    0.0384679  ,
    0.035871463,    0.03341952 ,    0.030915649,    0.028395374,    0.025798107,
    0.023237445,    0.020602754,    0.0180688  ,    0.015559693,    0.013211063,
    0.010964293,    0.008920993,    0.007080504,    0.005499239,    0.004187022,
    0.003096474,    0.002237361,    0.001566428,    0.001074149,    0.000721755,
    0.000470838,    0.00030268 ,    0.000184665,    0.000112883,    6.74043E-05,
    3.82178E-05,    2.22847E-05,    1.20933E-05,    6.96173E-06,    3.4689E-06 ,
    1.96172E-06,    8.49283E-07,    5.02393E-07,    2.15311E-07,    9.56938E-08
),

"Run2011":cms.vdouble(
    2.90178e+06,    1.09473e+06,    6.03602e+06,    1.10617e+08,    3.84358e+08,
    5.4026e+08 ,    5.383e+08  ,    4.92953e+08,    4.38465e+08,    4.03321e+08,
    3.71767e+08,    3.46029e+08,    3.27658e+08,    3.02245e+08,    2.59253e+08,
    1.98001e+08,    1.30707e+08,    7.33042e+07,    3.4541e+07 ,    1.36295e+07,
    4.54561e+06,    1.31135e+06,    337135     ,    79182.7    ,    17278.8    ,
    3577.3     ,    739.548    ,    171.781    ,    54.6876    ,    30.4299    ,
    31.2081    ,    43.3536    ,    63.6758    ,    91.3674    ,    125.887    ,
    166.024    ,    209.478    ,    252.847    ,    291.959    ,    322.501    ,
    340.789    ,    344.496    ,    333.141    ,    308.189    ,    272.741    ,
    230.903    ,    187.005    ,    144.884    ,    107.383    ,    0          ,
),
"Run2011Up":cms.vdouble(
    2.89642e+06,    1.17284e+06,    4.41296e+06,    7.14542e+07,    3.1131e+08 ,
    4.94738e+08,    5.20768e+08,    4.86849e+08,    4.3535e+08 ,    3.95472e+08,
    3.69067e+08,    3.41248e+08,    3.22357e+08,    3.04777e+08,    2.77331e+08,
    2.33338e+08,    1.75185e+08,    1.14824e+08,    6.48965e+07,    3.1385e+07 ,
    1.29747e+07,    4.63135e+06,    1.46129e+06,    421607     ,    115435     ,
    30986.9    ,    8318.05    ,    2235.03    ,    596.7      ,    162.233    ,
    52.8987    ,    30.8968    ,    34.3905    ,    48.3115    ,    69.2822    ,
    96.532     ,    129.454    ,    166.815    ,    206.494    ,    245.537    ,
    280.454    ,    307.71     ,    324.307    ,    328.325    ,    319.292    ,
    298.267    ,    267.644    ,    230.698    ,    191.014    ,    0.0        ,
),
"Run2011Dn":cms.vdouble(
    2.91212e+06,    1.08087e+06,    9.73613e+06,    1.65531e+08,    4.66141e+08,
    5.77137e+08,    5.53703e+08,    4.93162e+08,    4.40506e+08,    4.07916e+08,
    3.74494e+08,    3.52547e+08,    3.28936e+08,    2.88423e+08,    2.25342e+08,
    1.50779e+08,    8.45986e+07,    3.9316e+07 ,    1.50802e+07,    4.83091e+06,
    1.33393e+06,    332580     ,    78660.9    ,    18360.3    ,    4297.98    ,
    1001.32    ,    234.464    ,    64.5115    ,    34.1491    ,    39.2012    ,
    57.6731    ,    85.3601    ,    121.308    ,    164.328    ,    211.964    ,
    260.306    ,    304.349    ,    338.784    ,    359.036    ,    362.258    ,
    347.986    ,    318.251    ,    277.103    ,    229.709    ,    181.292    ,
    136.22     ,    97.4475    ,    66.3687    ,    43.0348    ,    0.0        ,
),
"Run2012":cms.vdouble(
    1.353150e+04, 2.182494e+04, 4.105759e+04, 2.493754e+05, 5.569331e+05,
    3.644880e+06, 2.024486e+07, 6.093225e+07, 1.430445e+08, 2.762496e+08,
    4.717573e+08, 7.054939e+08, 8.869310e+08, 9.958944e+08, 1.069961e+09,
    1.123834e+09, 1.151440e+09, 1.156183e+09, 1.150470e+09, 1.135864e+09,
    1.111746e+09, 1.082392e+09, 1.050252e+09, 1.009506e+09, 9.500402e+08,
    8.658951e+08, 7.602061e+08, 6.423392e+08, 5.223453e+08, 4.085829e+08,
    3.073648e+08, 2.224295e+08, 1.547509e+08, 1.033330e+08, 6.616090e+07,
    4.074155e+07, 2.438810e+07, 1.450258e+07, 8.860066e+06, 5.779366e+06,
    4.131306e+06, 3.232596e+06, 2.705532e+06, 2.356468e+06, 2.092450e+06,
    1.871057e+06, 1.673667e+06, 1.492424e+06, 1.324090e+06, 1.167533e+06,
    1.022420e+06, 8.886846e+05, 7.663288e+05, 6.553262e+05, 5.555513e+05,
    4.667458e+05, 3.885109e+05, 3.203148e+05, 2.615125e+05, 2.113707e+05,
),
"Run2012Up":cms.vdouble(
    1.273601e+04, 1.997444e+04, 3.475974e+04, 1.686745e+05, 4.851915e+05,
    1.859550e+06, 1.238125e+07, 4.047810e+07, 9.876001e+07, 1.991241e+08,
    3.477482e+08, 5.506485e+08, 7.516006e+08, 8.881807e+08, 9.725650e+08,
    1.034531e+09, 1.078336e+09, 1.098604e+09, 1.100888e+09, 1.095040e+09,
    1.081362e+09, 1.059451e+09, 1.032927e+09, 1.004162e+09, 9.689502e+08,
    9.189366e+08, 8.479947e+08, 7.569273e+08, 6.525643e+08, 5.434089e+08,
    4.369336e+08, 3.390912e+08, 2.540389e+08, 1.837277e+08, 1.281431e+08,
    8.605942e+07, 5.564998e+07, 3.479348e+07, 2.127053e+07, 1.298215e+07,
    8.154380e+06, 5.449196e+06, 3.959054e+06, 3.123660e+06, 2.624405e+06,
    2.292096e+06, 2.042190e+06, 1.834401e+06, 1.650224e+06, 1.481438e+06,
    1.324500e+06, 1.177985e+06, 1.041437e+06, 9.147311e+05, 7.978520e+05,
    6.908017e+05, 5.935330e+05, 5.059086e+05, 4.276828e+05, 3.585003e+05,
),
"Run2012Dn":cms.vdouble(
    1.443141e+04, 2.400885e+04, 5.096882e+04, 3.480540e+05, 7.566117e+05,
    7.023214e+06, 3.247218e+07, 9.237086e+07, 2.065578e+08, 3.850028e+08,
    6.337252e+08, 8.682603e+08, 1.014976e+09, 1.105770e+09, 1.171665e+09,
    1.208754e+09, 1.217161e+09, 1.211755e+09, 1.196141e+09, 1.169468e+09,
    1.136810e+09, 1.100578e+09, 1.052784e+09, 9.813287e+08, 8.811345e+08,

    7.586143e+08, 6.260289e+08, 4.950488e+08, 3.749179e+08, 2.719705e+08,
    1.889614e+08, 1.255507e+08, 7.963469e+07, 4.830039e+07, 2.828641e+07,
    1.635586e+07, 9.690339e+06, 6.152181e+06, 4.319401e+06, 3.349895e+06,
    2.792486e+06, 2.424727e+06, 2.144500e+06, 1.907391e+06, 1.694877e+06,
    1.499560e+06, 1.318608e+06, 1.151162e+06, 9.970092e+05, 8.561253e+05,

    7.285045e+05, 6.140433e+05, 5.124783e+05, 4.233648e+05, 3.460833e+05,
    2.798623e+05, 2.238120e+05, 1.769622e+05, 1.383007e+05, 1.068094e+05,
),
"Run2015":cms.vdouble(
    1.563987e+04, 1.027195e+05, 7.086571e+04, 1.281429e+05, 1.749060e+05,
    2.717017e+05, 5.607312e+05, 1.655127e+06, 5.055449e+06, 1.350666e+07,
    2.636098e+07, 3.582305e+07, 3.686504e+07, 3.262874e+07, 2.645555e+07,
    1.941745e+07, 1.261751e+07, 7.215247e+06, 3.663304e+06, 1.691739e+06,
    7.343367e+05, 3.071727e+05, 1.251888e+05, 5.049505e+04, 2.100750e+04,

    9.528132e+03, 4.814976e+03, 2.621906e+03, 1.460726e+03, 8.029747e+02,
    4.279385e+02, 2.195906e+02, 1.082387e+02, 5.121299e+01, 2.325526e+01,
    1.013406e+01, 4.237992e+00, 1.700783e+00, 6.550108e-01, 2.420793e-01,
    8.585708e-02, 2.922157e-02, 9.544221e-03, 2.991489e-03, 8.997987e-04,
    2.597262e-04, 7.194492e-05, 1.912496e-05, 4.878867e-06, 1.194420e-06,

    2.806225e-07, 6.327691e-08, 1.368838e-08, 2.847973e-09, 5.616552e-10,
    1.112978e-10, 2.192513e-11, 0.000000e+00, 0.000000e+00, 0.000000e+00,
),
"Run2015Up":cms.vdouble(
    1.220139e+04, 9.506236e+04, 7.214610e+04, 1.085869e+05, 1.561630e+05,
    2.287384e+05, 4.005145e+05, 1.052180e+06, 3.065114e+06, 8.473792e+06,
    1.881156e+07, 3.011167e+07, 3.545564e+07, 3.402595e+07, 2.939152e+07,
    2.348916e+07, 1.704061e+07, 1.103886e+07, 6.369373e+06, 3.304915e+06,
    1.576774e+06, 7.118511e+05, 3.107328e+05, 1.324023e+05, 5.572977e+04,

    2.393565e+04, 1.101473e+04, 5.594602e+03, 3.081778e+03, 1.760648e+03,
    1.004321e+03, 5.599993e+02, 3.023816e+02, 1.575569e+02, 7.912501e+01,
    3.828465e+01, 1.784533e+01, 8.013100e+00, 3.466159e+00, 1.444330e+00,
    5.797666e-01, 2.241858e-01, 8.350855e-02, 2.996549e-02, 1.035810e-02,
    3.449110e-03, 1.106378e-03, 3.418778e-04, 1.017677e-04, 2.918254e-05,

    8.061422e-06, 2.145250e-06, 5.499453e-07, 1.358229e-07, 3.231599e-08,
    7.400485e-09, 1.634234e-09, 3.499224e-10, 7.850559e-11, 8.992251e-12,
),
"Run2015Dn":cms.vdouble(
    1.966563e+04, 1.095485e+05, 7.359104e+04, 1.475568e+05, 2.020580e+05,
    3.353600e+05, 8.458989e+05, 2.732626e+06, 8.533626e+06, 2.080633e+07,
    3.423091e+07, 3.929113e+07, 3.619333e+07, 2.985366e+07, 2.222286e+07,
    1.452467e+07, 8.242250e+06, 4.091600e+06, 1.823875e+06, 7.581238e+05,
    3.024991e+05, 1.173645e+05, 4.521175e+04, 1.822486e+04, 8.167126e+03,

    4.101311e+03, 2.193705e+03, 1.181836e+03, 6.208067e+02, 3.136467e+02,
    1.516888e+02, 7.012542e+01, 3.097705e+01, 1.307392e+01, 5.271836e+00,
    2.030976e+00, 7.475371e-01, 2.628720e-01, 8.831591e-02, 2.834761e-02,
    8.693147e-03, 2.546956e-03, 7.129368e-04, 1.906633e-04, 4.871603e-05,
    1.189235e-05, 2.773681e-06, 6.180751e-07, 1.315932e-07, 2.676493e-08,

    5.206725e-09, 9.622800e-10, 1.710055e-10, 3.776435e-11, 0.000000e+00,
    0.000000e+00, 0.000000e+00, 0.000000e+00, 0.000000e+00, 0.000000e+00,
),
}

## Put values
pileupWeight.pileupMC = pileupWeightMap["Startup2015_25ns"]
pileupWeight.pileupRD = pileupWeightMap["Run2015"]
pileupWeight.pileupUp = pileupWeightMap["Run2015Up"]
pileupWeight.pileupDn = pileupWeightMap["Run2015Dn"]

pileupWeight.isStandardWeight = True
#pileupWeight.simpleWeights = [ # Weights starts from 1-vertex
#    1,
#    9.571429, 1.692308, 0.610811, 0.372213, 0.433144,
#    0.440753, 0.415084, 0.432604, 0.437338, 0.443846,
#    0.440794, 0.450929, 0.445799, 0.443721, 0.438115,
#    0.431091, 0.423091, 0.412340, 0.379626, 0.361282,
#    0.327449, 0.296309, 0.261543, 0.241164, 0.196814,
#    0.162705, 0.137715, 0.118497, 0.098170, 0.077295,
#    0.074979, 0.056573, 0.040787, 0.039046, 0.032877,
#    0.020677, 0.026087, 0.023438, 0.030675, 0.008475, 0.010638,
#]
